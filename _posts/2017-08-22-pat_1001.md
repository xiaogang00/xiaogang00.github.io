---
layout: post
title: pat甲级1001
category: pat
tags: pat cpp
---

* content
{:toc}

题目的链接网站：[https://www.patest.cn/contests/pat-a-practise/1001](https://www.patest.cn/contests/pat-a-practise/1001)





题目代码如下：
```cpp
//
//  solution.cpp
//  pat
//
//  Created by pengsida on 2017/6/9.
//  Copyright © 2017年 pengsida. All rights reserved.
//

#include <iostream>
#include <cstring>
#include <cstdlib>

using namespace std;

template <typename T>
class format {
private:
    T param1;
    T param2;
    T result;
    
private:
    static void get_result(T a, T b){}
    
public:
    format(T a, T b);
    
    void add_commas();
    void print();
};

template <typename T>
format<T>::format(T a, T b)
{
    param1 = a;
    param2 = b;
}

template <typename T>
void format<T>::add_commas()
{
    cout << "Have not realized yet!" << endl;
    result = NULL;
}

template <typename T>
void format<T>::print()
{
    cout << "result is null" << endl;
}

template <>
class format<int> {
private:
    int param1;
    int param2;
    int result;
    char output[20];
    
private:
    static void int2char(int result, char* output) {
        int res;
        int i = 0;
        
        if ( result < 0 )
        {
            output[i++] = '-';
            result = -result;
        }
        
        if ( result == 0)
            output[i++] = '0';
        
        while (result) {
            res = result % 10;
            result = result / 10;
            output[i++] = '0' + res;
        }
    }
    
public:
    format(int a, int b) {
        int i = 0;
        param1 = a;
        param2 = b;
        result = param1 + param2;
        
        for ( i = 0; i < 10; i++)
            output[i] = '\0';
        int2char(result, output);
    }
    
    void add_commas() {
        int flag = (output[0] == '-');
        int length = (int)strlen(output);
        length = length + (length - flag - 1) / 3 - flag;
        char* temp = (char*)malloc(length);
        char* init = temp;
        int times = 0;
        int i = 0;
        
        if (output[i] == '-')
            i++;
        
        while (output[i] != '\0') {
            if (times == 3) {
                *temp = ',';
                temp++;
                times = 0;
            }
            *temp = output[i++];
            times++;
            temp++;
        }
        
        i = 0;
        if (output[i] == '-')
            i++;
        
        while (length--)
            output[i++] = init[length];
        
        free(init);
    }
    
    void print() {
        cout << output << endl;
    }
};


int main() {
    char param1, param2;
    cin >> param1 >> param2;
    format<char> solu(param1, param2);
    solu.add_commas();
    solu.print();
    return 0;
}
```